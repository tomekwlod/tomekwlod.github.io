<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>tomekwlod.github.io</title>
  </head>
  <body class="layout" toc>
    <div class="body">
      <div class="inside">
        <div class="cards">
          <h2>Goroutines</h2>
          <h3>Simple example with a channel</h3>
          <script type="editor" data-lang="golang">
            package main

            import (
            	"fmt"
            	"math/rand"
            	"time"
            )

            // Simple example of how to use goroutines with channels

            func main() {
            	channel := make(chan string)

            	go fn(channel)

            	for {
            		_msg, open := <-channel

            		if !open {
            			break
            		}

            		fmt.Println(_msg)
            	}
            }

            func fn(ch chan string) {
            	rand.Seed(time.Now().UnixNano())

            	for i := 0; i < 3; i++ {
            		score := rand.Intn(10)

            		ch <- fmt.Sprintf("Score: %d", score)
            	}

            	// if we don't close the channel, the loop in the main() function will
            	// produce a deadlock error as the loop would keep running for ever
            	close(ch)
            }
          </script>
          <h2>Useful links</h2>
          <ul>
            <li>
              <p>Full Golang+React+Docker+Postgres+tests</p>
              <p><a href="https://letscode.blog/category/gin-golang-and-react-web-app-guide/page/2/">https://letscode.blog/category/gin-golang-and-react-web-app-guide/page/2/</a></p>
              <p>It's not ideal but shows a few nice practices, for example how to build an image, how to test, migrate, etc</p>
            </li>

            <li>
              <p>Portable apps with Go and Next.js</p>
              <p><a href="https://v0x.nl/articles/portable-apps-go-nextjs">https://v0x.nl/articles/portable-apps-go-nextjs</a></p>
              <p>It is using an `embed` feature implemented in golang v1.18. It's basically a way to serve next.js app through go</p>
            </li>

            <li>
              <p>Json & GRPC server with Logging and Metrics as an example. Everything follows the decorator pattern so that everything is separated from each other</p>
              <p><a href="https://www.youtube.com/watch?v=367qYRy39zw">1st episode structure+JSON</a></p>
              <p><a href="https://www.youtube.com/watch?v=D0St2LH158Q">2nd episode GRPC</a></p>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="/js/github.js"></script>
  </body>
</html>
